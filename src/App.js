import { IconButton, Typography } from '@material-ui/core'
import { useState } from 'react'
import './App.css'
import firebase from 'firebase/app'
import { Link } from 'react-router-dom'
import { Extension, ViewList } from '@material-ui/icons'
import shinchan from './Posters/shinfinal.png'
import papy from './Posters/papy.jpeg'
import sketch from './Posters/sketchfinal.jpeg'
import chlomes from './Posters/hacko.jpeg'
import pict from './Posters/picto.jpeg'
import fri from './Posters/fri.jpeg'
import conection from './Posters/conection.jpeg'
import news from './Posters/newconfo.jpeg'

function App() {
  const [contests, setContests] = useState([])
  const [isLoading, setIsLoading] = useState('1')

  if(isLoading === '1'){
      let contestsInit = [], cont = {}
      firebase.database().ref('ContestList/').on('value', snap => {
          snap.forEach(item => {
              cont["name"] = item.val().Name
              cont["date"] = item.val().Date
              cont["time"] = item.val().Time
              contestsInit.push(cont)
              cont = {}
          })
          setContests(contestsInit)
          console.log(contestsInit)
      })
      setIsLoading('0')
  }

  function Loader() {
    if (isLoading === '1') {
        return <div>Loading</div>
    }
    return (
      <div className="App">
        <div className='consolepath'>
          <Link to='/console'><IconButton style={{
            color: 'black', float: 'left'}} aria-label="upload picture" component="span">
            <ViewList style={{ fontSize: '30pt'}}/>
          </IconButton></Link>
        </div>
        <div className='yellowtop'><svg width="85%" height="200px" viewBox="0 0 1410 217" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M128.531 148.031L153 151.688C152.531 160.688 151.734 168.375 150.609 174.75C149.484 181.031 147.797 186.656 145.547 191.625C143.391 196.594 140.719 200.625 137.531 203.719C134.344 206.719 130.219 209.203 125.156 211.172C120.188 213.141 114.562 214.5 108.281 215.25C102.094 216 94.5938 216.375 85.7812 216.375C77.3438 216.375 69.7969 216.141 63.1406 215.672C56.4844 215.297 50.3906 214.406 44.8594 213C39.4219 211.5 34.6406 210.094 30.5156 208.781C26.4844 207.375 22.875 205.078 19.6875 201.891C16.5938 198.703 13.9688 195.844 11.8125 193.312C9.75 190.781 7.96875 186.938 6.46875 181.781C5.0625 176.531 3.98438 171.938 3.23438 168C2.48438 164.062 1.875 158.344 1.40625 150.844C1.03125 143.344 0.796875 136.781 0.703125 131.156C0.609375 125.531 0.5625 117.75 0.5625 107.812C0.5625 97.3125 0.609375 88.875 0.703125 82.5C0.796875 76.125 1.07812 69.1875 1.54688 61.6875C2.01562 54.1875 2.57812 48.375 3.23438 44.25C3.98438 40.125 5.10938 35.625 6.60938 30.75C8.20312 25.7813 9.98438 22.125 11.9531 19.7812C13.9219 17.3438 16.5 14.7188 19.6875 11.9062C22.875 9.09375 26.3438 7.17187 30.0938 6.14062C33.9375 5.01562 38.5781 3.89062 44.0156 2.76562C49.4531 1.64062 55.2656 0.9375 61.4531 0.65625C67.7344 0.375 75 0.234375 83.25 0.234375C91.7812 0.234375 99.0469 0.5625 105.047 1.21875C111.047 1.78125 116.672 2.95312 121.922 4.73438C127.172 6.42188 131.484 8.71875 134.859 11.625C138.234 14.4375 141.188 18.1406 143.719 22.7344C146.344 27.3281 148.359 32.7656 149.766 39.0469C151.172 45.2344 152.203 52.6875 152.859 61.4062L128.25 66.1875C127.781 61.4062 127.359 57.4219 126.984 54.2344C126.609 51.0469 126.047 47.9062 125.297 44.8125C124.641 41.7188 124.078 39.2344 123.609 37.3594C123.234 35.3906 122.391 33.5156 121.078 31.7344C119.766 29.8594 118.688 28.4531 117.844 27.5156C117.094 26.5781 115.641 25.6875 113.484 24.8438C111.328 24 109.5 23.4375 108 23.1562C106.594 22.7812 104.203 22.4531 100.828 22.1719C97.5469 21.8906 94.6875 21.75 92.25 21.75C89.8125 21.75 86.25 21.75 81.5625 21.75C75 21.75 69.6094 21.8438 65.3906 22.0312C61.2656 22.125 57.0938 22.4531 52.875 23.0156C48.75 23.4844 45.4688 24.2344 43.0312 25.2656C40.6875 26.2031 38.4844 27.5156 36.4219 29.2031C34.3594 30.7969 32.8594 32.8125 31.9219 35.25C31.0781 37.5938 30.5625 40.4531 30.375 43.8281C29.5312 68.5781 29.1094 93.8438 29.1094 119.625C29.1094 137.625 29.5312 155.203 30.375 172.359C30.8438 177.703 32.3438 181.875 34.875 184.875C37.5 187.875 42.5156 190.266 49.9219 192.047C57.4219 193.828 68.0156 194.719 81.7031 194.719C89.0156 194.719 95.1562 194.531 100.125 194.156C105.094 193.688 109.266 192.703 112.641 191.203C116.016 189.609 118.594 188.203 120.375 186.984C122.156 185.672 123.562 183.188 124.594 179.531C125.719 175.875 126.422 172.828 126.703 170.391C127.078 167.859 127.453 163.594 127.828 157.594C127.922 156.281 127.969 155.25 127.969 154.5C128.062 153.75 128.156 152.766 128.25 151.547C128.344 150.234 128.438 149.062 128.531 148.031ZM329.062 151.547C329.062 157.641 328.875 163.172 328.5 168.141C328.125 173.016 327.422 177.516 326.391 181.641C325.453 185.672 324.422 189.234 323.297 192.328C322.172 195.422 320.578 198.188 318.516 200.625C316.453 202.969 314.391 204.984 312.328 206.672C310.359 208.359 307.734 209.812 304.453 211.031C301.266 212.156 298.172 213.047 295.172 213.703C292.172 214.453 288.422 215.016 283.922 215.391C279.422 215.766 275.109 216 270.984 216.094C266.953 216.281 261.984 216.375 256.078 216.375C244.922 216.375 235.547 216.047 227.953 215.391C220.453 214.734 214.031 213.328 208.688 211.172C203.438 209.016 199.359 206.812 196.453 204.562C193.547 202.219 191.25 198.562 189.562 193.594C187.875 188.531 186.75 183.703 186.188 179.109C185.719 174.516 185.297 168 184.922 159.562L210.938 155.344C211.219 157.406 211.5 160.312 211.781 164.062C212.344 169.875 212.859 174 213.328 176.438C213.891 178.781 214.922 181.406 216.422 184.312C217.922 187.219 220.266 189.141 223.453 190.078C226.641 190.922 230.812 191.672 235.969 192.328C241.125 192.984 248.016 193.312 256.641 193.312C263.766 193.312 269.625 193.125 274.219 192.75C278.812 192.375 282.844 191.625 286.312 190.5C289.781 189.281 292.406 187.922 294.188 186.422C295.969 184.922 297.375 182.625 298.406 179.531C299.531 176.344 300.234 173.062 300.516 169.688C300.797 166.312 300.891 161.812 300.797 156.188C300.703 143.812 300 135.281 298.688 130.594C297.469 125.812 294.797 123 290.672 122.156L220.641 109.922C208.453 107.859 199.969 103.219 195.188 96C190.406 88.7812 187.875 77.1094 187.594 60.9844C187.594 52.3594 188.016 45 188.859 38.9062C189.797 32.7188 191.344 27.3281 193.5 22.7344C195.75 18.0469 198.469 14.2969 201.656 11.4844C204.938 8.67188 209.203 6.42188 214.453 4.73438C219.797 2.95312 225.609 1.78125 231.891 1.21875C238.266 0.5625 246.047 0.234375 255.234 0.234375C262.734 0.234375 269.156 0.421875 274.5 0.796875C279.938 1.07812 285.188 1.64062 290.25 2.48438C295.406 3.32812 299.672 4.5 303.047 6C306.422 7.5 309.516 9.46875 312.328 11.9062C315.234 14.25 317.484 17.1562 319.078 20.625C320.672 24 321.891 27.9844 322.734 32.5781C323.578 37.1719 324 42.4688 324 48.4688L298.969 54.2344C298.031 43.9219 297.422 38.0625 297.141 36.6562C296.016 31.875 293.344 28.6406 289.125 26.9531C284.438 24.9844 274.641 24 259.734 24C251.578 24 244.828 24.2344 239.484 24.7031C234.234 25.1719 229.922 25.875 226.547 26.8125C223.172 27.6562 220.641 28.9687 218.953 30.75C217.359 32.5313 216.281 34.4531 215.719 36.5156C215.156 38.4844 214.875 41.1094 214.875 44.3906V68.7188C214.875 77.5312 218.719 82.5938 226.406 83.9062L276.75 92.4844C281.438 93.2344 285.188 93.8906 288 94.4531C290.812 95.0156 294.047 95.7656 297.703 96.7031C301.359 97.6406 304.219 98.625 306.281 99.6562C308.344 100.688 310.641 102 313.172 103.594C315.703 105.188 317.672 106.969 319.078 108.938C320.484 110.906 321.891 113.25 323.297 115.969C324.797 118.688 325.875 121.781 326.531 125.25C327.281 128.625 327.891 132.516 328.359 136.922C328.828 141.234 329.062 146.109 329.062 151.547ZM486.562 213H367.875V3.46875H485.297L488.109 25.125H396.422V92.4844H474.75V115.266H396.422V191.484H489.375L486.562 213ZM737.297 3.46875V134.672C737.297 145.922 736.781 155.578 735.75 163.641C734.812 171.703 733.078 178.875 730.547 185.156C728.016 191.344 724.828 196.406 720.984 200.344C717.234 204.188 712.266 207.375 706.078 209.906C699.984 212.344 693.141 214.031 685.547 214.969C677.953 215.906 668.766 216.375 657.984 216.375C647.578 216.375 638.719 215.953 631.406 215.109C624.094 214.266 617.344 212.719 611.156 210.469C604.969 208.125 599.953 205.078 596.109 201.328C592.359 197.484 589.125 192.516 586.406 186.422C583.688 180.234 581.766 172.969 580.641 164.625C579.609 156.281 579.094 146.297 579.094 134.672V3.46875H607.641V138.328C607.641 146.109 607.641 151.734 607.641 155.203C607.734 158.672 608.016 162.938 608.484 168C608.953 172.969 609.562 176.391 610.312 178.266C611.062 180.047 612.281 182.297 613.969 185.016C615.75 187.734 617.719 189.469 619.875 190.219C622.125 190.875 625.172 191.719 629.016 192.75C632.859 193.781 636.984 194.391 641.391 194.578C645.891 194.672 651.469 194.719 658.125 194.719C666 194.719 672.562 194.484 677.812 194.016C683.156 193.547 687.797 192.609 691.734 191.203C695.672 189.797 698.672 188.203 700.734 186.422C702.891 184.547 704.578 181.828 705.797 178.266C707.109 174.703 707.953 171 708.328 167.156C708.703 163.312 708.891 158.203 708.891 151.828L708.75 3.46875H737.297ZM896.062 25.125H841.359V213H812.812V25.125H759.234V3.46875H896.062V25.125ZM1057.5 151.547C1057.5 157.641 1057.31 163.172 1056.94 168.141C1056.56 173.016 1055.86 177.516 1054.83 181.641C1053.89 185.672 1052.86 189.234 1051.73 192.328C1050.61 195.422 1049.02 198.188 1046.95 200.625C1044.89 202.969 1042.83 204.984 1040.77 206.672C1038.8 208.359 1036.17 209.812 1032.89 211.031C1029.7 212.156 1026.61 213.047 1023.61 213.703C1020.61 214.453 1016.86 215.016 1012.36 215.391C1007.86 215.766 1003.55 216 999.422 216.094C995.391 216.281 990.422 216.375 984.516 216.375C973.359 216.375 963.984 216.047 956.391 215.391C948.891 214.734 942.469 213.328 937.125 211.172C931.875 209.016 927.797 206.812 924.891 204.562C921.984 202.219 919.688 198.562 918 193.594C916.312 188.531 915.188 183.703 914.625 179.109C914.156 174.516 913.734 168 913.359 159.562L939.375 155.344C939.656 157.406 939.938 160.312 940.219 164.062C940.781 169.875 941.297 174 941.766 176.438C942.328 178.781 943.359 181.406 944.859 184.312C946.359 187.219 948.703 189.141 951.891 190.078C955.078 190.922 959.25 191.672 964.406 192.328C969.562 192.984 976.453 193.312 985.078 193.312C992.203 193.312 998.062 193.125 1002.66 192.75C1007.25 192.375 1011.28 191.625 1014.75 190.5C1018.22 189.281 1020.84 187.922 1022.62 186.422C1024.41 184.922 1025.81 182.625 1026.84 179.531C1027.97 176.344 1028.67 173.062 1028.95 169.688C1029.23 166.312 1029.33 161.812 1029.23 156.188C1029.14 143.812 1028.44 135.281 1027.12 130.594C1025.91 125.812 1023.23 123 1019.11 122.156L949.078 109.922C936.891 107.859 928.406 103.219 923.625 96C918.844 88.7812 916.312 77.1094 916.031 60.9844C916.031 52.3594 916.453 45 917.297 38.9062C918.234 32.7188 919.781 27.3281 921.938 22.7344C924.188 18.0469 926.906 14.2969 930.094 11.4844C933.375 8.67188 937.641 6.42188 942.891 4.73438C948.234 2.95312 954.047 1.78125 960.328 1.21875C966.703 0.5625 974.484 0.234375 983.672 0.234375C991.172 0.234375 997.594 0.421875 1002.94 0.796875C1008.38 1.07812 1013.62 1.64062 1018.69 2.48438C1023.84 3.32812 1028.11 4.5 1031.48 6C1034.86 7.5 1037.95 9.46875 1040.77 11.9062C1043.67 14.25 1045.92 17.1562 1047.52 20.625C1049.11 24 1050.33 27.9844 1051.17 32.5781C1052.02 37.1719 1052.44 42.4688 1052.44 48.4688L1027.41 54.2344C1026.47 43.9219 1025.86 38.0625 1025.58 36.6562C1024.45 31.875 1021.78 28.6406 1017.56 26.9531C1012.88 24.9844 1003.08 24 988.172 24C980.016 24 973.266 24.2344 967.922 24.7031C962.672 25.1719 958.359 25.875 954.984 26.8125C951.609 27.6562 949.078 28.9687 947.391 30.75C945.797 32.5313 944.719 34.4531 944.156 36.5156C943.594 38.4844 943.312 41.1094 943.312 44.3906V68.7188C943.312 77.5312 947.156 82.5938 954.844 83.9062L1005.19 92.4844C1009.88 93.2344 1013.62 93.8906 1016.44 94.4531C1019.25 95.0156 1022.48 95.7656 1026.14 96.7031C1029.8 97.6406 1032.66 98.625 1034.72 99.6562C1036.78 100.688 1039.08 102 1041.61 103.594C1044.14 105.188 1046.11 106.969 1047.52 108.938C1048.92 110.906 1050.33 113.25 1051.73 115.969C1053.23 118.688 1054.31 121.781 1054.97 125.25C1055.72 128.625 1056.33 132.516 1056.8 136.922C1057.27 141.234 1057.5 146.109 1057.5 151.547ZM1244.67 213H1215.7L1199.81 159.422H1122.33L1107 213H1079.58L1143.84 3.46875H1181.95L1244.67 213ZM1193.91 139.172L1176.19 76.3125L1161.56 24.8438C1156.12 44.25 1151.34 60.9375 1147.22 74.9062L1128.38 139.172H1193.91ZM1409.34 3.46875L1340.44 213H1310.91L1243.83 3.46875H1274.06L1326.23 176.578L1378.41 3.46875H1409.34Z" fill="white"/></svg></div>
        <div className='closerbanner'><svg viewBox="0 0 1440 320"><path fill="#40404b" fill-opacity="1" d="M0,256L1440,64L1440,320L0,320Z"></path></svg></div>
        <div className='openerbanner'><svg viewBox="0 0 1440 320"><path fill="#fff" fill-opacity="1" d="M0,64L1440,256L1440,320L0,320Z"></path></svg></div>
        <svg viewBox="0 0 1440 320"><path fill="#ffd700" fill-opacity="1" d="M0,96L120,128C240,160,480,224,720,245.3C960,267,1200,245,1320,234.7L1440,224L1440,0L1320,0C1200,0,960,0,720,0C480,0,240,0,120,0L0,0Z"></path></svg>
        {/* <div></div> */}
        <div className='expla'>
          <Typography variant='h5' style={{color: 'gray', fontFamily: 'Rubik', letterSpacing: '2px', textTransform: 'capitalise'}}>PSNACET 2021. Here is this year's CSE utsav. starting from 20th May extending upto 22nd May consists of various technical and non-technical events in online mode</Typography>
        </div>
        <div className='noofcontest'>
          <div className='svgHoldermain'><svg viewBox="0 0 24 24" height="30vh" width="50%"><path d="m12.43 7.414-3.25-6.98c-.123-.265-.388-.434-.68-.434h-1c-.288 0-.55.165-.675.423l-3.75 7.75c-.097.2-.1.434-.008.636.092.203.269.354.484.414l7.25 2 .199.027c.129 0 .257-.033.372-.099.173-.099.3-.263.353-.456l.75-2.77c.045-.17.029-.351-.045-.511z" fill="#1976d2" /><path d="m4.726 4.761-1.651 3.412c-.097.2-.1.434-.008.636.092.203.269.354.484.414l7.25 2 .199.027c.129 0 .257-.033.372-.099.173-.099.3-.263.353-.456l.75-2.77c.046-.17.03-.352-.044-.512l-.127-.272z" fill="#1667b7" /><path d="m18.96 15.258c-.09-.267-.322-.46-.6-.501l-3.925-.585-1.774-3.743c-.123-.262-.388-.429-.677-.429h-.002c-.291.001-.555.17-.677.434l-1.749 3.754-3.922.612c-.278.043-.508.239-.596.506s-.02.561.177.761l2.87 2.918-.663 4.146c-.045.283.075.568.311.732.129.092.28.137.431.137.125 0 .251-.031.365-.095l3.494-1.944 3.507 1.92c.251.139.56.121.794-.046.234-.166.353-.452.306-.735l-.691-4.141 2.85-2.939c.195-.202.262-.496.171-.762z" fill="#ffc107" /><path d="m11.984 10h-.002c-.291.001-.555.17-.677.434l-1.749 3.754-3.922.612c-.278.043-.508.239-.596.506s-.02.561.177.761l2.87 2.918-.663 4.146c-.045.283.075.568.311.732.129.092.28.137.431.137.125 0 .251-.031.365-.095l3.471-1.932v-11.973c-.005 0-.011 0-.016 0z" fill="#dea806" /><path d="m20.93 8.81c-.09.2-.27.35-.48.41l-2.17.6-1.97.54-3.11.86-.2.03c-.29 0-.56-.17-.68-.44l-4.5-9.75c-.11-.23-.09-.5.05-.71.14-.22.37-.35.63-.35h8c.29 0 .55.16.68.42l3.75 7.75c.09.2.09.44 0 .64z" fill="#2196f3" /><path d="m18.28 9.82-1.97.54-5.6-10.36h2.27z" fill="#fafafa" /><path d="m18.891 3.956-3.221 1.027 2.61 4.837-1.97.54-2.573-4.76-3.331 1.063 1.914 4.148c.12.27.39.44.68.44l.2-.03 3.11-.86 1.97-.54 2.17-.6c.21-.06.39-.21.48-.41s.09-.44 0-.64z" fill="#1d83d4" /><path d="m15.67 4.983-1.933.617 2.573 4.76 1.97-.54z" fill="#dadada" /></svg></div>
          <div className='svgTextside'>
            <div className='svgtexthead'>11 Competitions</div>
            <div className='svgtextsub'>In a span of Three days from 20th May to 22nd May</div>
          </div>
        </div>
        <div className='listofcontest'>
          <div className='svgTextside'>
            <div className='svgtexthead headhead' style={{ color: 'white'}}>List of Competitions</div>
            <div className='svgtextsub' style={{color: 'white'}}>Different Competitions hosted on different days and times! Both technical and non technical</div>
          </div>
          <div className='tableside'>
              <div>{
                  contests.map(item => {
                      return (
                          <div className='contestTab'>
                          <Link to={'/register/'+item.name}><Typography fullWidth style={{ fontFamily: 'Rubik', color: 'yellow', textAlign: 'center' }} variant='h5'>{item.name}</Typography></Link>
                          </div>
                      )
                  })
              }</div></div>
        </div>
        <div className='posters'>
          <div className='postertitle'>Posters of all the contests</div>
          <div className='imagepos'>
            <img src={chlomes} alt='poster' />
            <img src={shinchan} alt='poster' />
            <img src={sketch} alt='poster' />
            <img src={pict} alt='poster' />
            <img src={fri} alt='poster' />
            <img src={conection} alt='poster' />
            <img src={news} alt='poster' />
            <img src={papy} alt='poster' />
          </div>
        </div>
      </div>
    );
  }

  return <Loader />
}

  export default App;
